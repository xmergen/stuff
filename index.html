<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Valentipu ðŸ’˜</title>
  <style>
  :root {
    --bg: #fbf7f7;
    --text: #2b2b2b;
    --yes: #22c55e;
    --no: #ef4444;
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: grid;
    place-items: center;
  }

  .wrap {
    width: min(420px, 92vw);
    text-align: center;
    padding: 18px 12px;
  }

  .hero {
    width: min(280px, 70vw);
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 10px;
    display: block;
    margin: 8px auto 14px;
    border: 1px solid rgba(0,0,0,0.08);
    background: #fff;
  }

  h1 {
    margin: 10px 0 16px;
    font-size: 18px;
    font-weight: 500;
    opacity: 0.9;
  }

  .buttons {
    position: relative;
    height: 64px;                 /* stable vertical space */
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 14px;
    margin-top: 8px;
  }

  button {
    border: none;
    cursor: pointer;
    border-radius: 10px;
    padding: 12px 18px;
    font-size: 16px;
    transition:
      transform 220ms ease,
      width 220ms ease,
      font-size 220ms ease,
      left 220ms ease,
      right 220ms ease;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    white-space: nowrap;
  }

  #yesBtn {
    background: var(--yes);
    color: white;
    font-weight: 700;
    width: 140px;               /* base width */
    transform-origin: center;
  }

  #noBtn {
    background: var(--no);
    color: white;
    font-weight: 600;
    width: 160px;               /* slightly wider for longer text */
  }

  .msg {
    margin-top: 14px;
    font-size: 15px;
    opacity: 0.85;
    min-height: 22px;
  }

  /* When YES becomes iPhone-width */
  .yes-wide {
    width: min(92vw, 420px) !important; /* edge-to-edge inside wrap width */
    font-size: 44px !important;
    padding: 22px 18px !important;
    border-radius: 14px !important;
  }

  /* Optional: if you want TRUE iPhone edge-to-edge (full viewport width) */
  .yes-viewport {
    position: fixed;
    left: 50%;
    transform: translateX(-50%) !important;
    width: 94vw !important;           /* near full iPhone screen width */
    bottom: 14vh;                      /* looks like screenshot */
    z-index: 9999;
    font-size: 52px !important;
    padding: 26px 18px !important;
    border-radius: 16px !important;
  }
</style>

</head>

<div id="modal" class="fade-out" aria-hidden="true">
  <div class="modal-card">
    <img id="modalGif" class="modal-gif fade-out" alt="gif"/>
    <div id="modalText" class="modal-text"></div>
    <button id="closeModal" class="modal-close">OK</button>
  </div>
</div>

<body>
<div class="wrap">
  <img id="heroImg" class="hero" src="./couple.jpg" alt="us" />

  <h1>Will you be my valentipu?</h1>

  <div class="buttons" id="buttons">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>

  <div class="msg" id="msg"></div>
</div>

    <div class="msg" id="msg"></div>
  </div>

  <script>
  const yesBtn = document.getElementById("yesBtn");
  const noBtn  = document.getElementById("noBtn");
  const heroImg = document.getElementById("heroImg");

  const noTexts = [
    "No",
    "Are you sure?",
    "Are you sure you're sure?",
    "You better say yes",
    "Pipu, pleaaaseee",
    "No is not an option!",
    "Still no??",
    "Last chance ðŸ˜¤",
    "Okayâ€¦ wow ðŸ˜­"
  ];

  // Put your DIRECT Tenor gif URL here (media.tenor.com/.../tenor.gif)
  const fireworksGifDirect = "https://media1.tenor.com/m/1Ze3AoBHyW0AAAAd/fireworks-exploding-heart.gif";
  const minionGifDirect = "https://media1.tenor.com/m/kutFNFXxSIsAAAAd/minion-minion-loves.gif";

  let step = 0;           // how many times NO was pressed
  let yesScale = 1;

  // how far the "No" button slides each time (in px)
  // alternating left/right so it stays visible
  function slideNo() {
    const direction = (step % 2 === 0) ? 1 : -1; // right, left, right, left...
    const distance = Math.min(28 + step * 10, 160); // cap so it doesn't fly away
    noBtn.style.transform = `translateX(${direction * distance}px)`;
  }

  function growYes() {
    // grows faster later so we reach iPhone-width in fewer taps
    const factor = (step < 3) ? 1.22 : (step < 6) ? 1.28 : 1.35;
    yesScale *= factor;
    yesBtn.style.transform = `scale(${yesScale})`;
  }

  function updateNoText() {
    noBtn.textContent = noTexts[Math.min(step, noTexts.length - 1)];
  }

  function makeYesIphoneWide() {
    // edge-to-edge vibe like your screenshot
    yesBtn.classList.add("yes-viewport");
    yesBtn.textContent = "Yes";
    // keep No readable, move it off to the side a bit
    noBtn.style.transform = "translateX(160px)";
  }

  noBtn.addEventListener("click", () => {
    // first NO: swap photo -> minion gif
    if (step === 0 && minionGifDirect && !minionGifDirect.includes("PASTE_")) {
      heroImg.src = minionGifDirect;
    }

    step += 1;
    updateNoText();
    growYes();
    slideNo();

    // after enough taps, force the iPhone-width look
    // tweak this number depending on how fast you want it:
    if (step >= 6) {
      makeYesIphoneWide();
    }
  });

  yesBtn.addEventListener("click", () => {
    // keep your existing popup logic if you already added it earlier
    // (If you still have showModal from previous steps, use it)
    if (typeof showModal === "function") {
      // First YES (before any NO presses):
      if (step === 0) {
        showModal(
          "Did you just say yes so quickly? ðŸ¥°\nJust because I worked hard for this webpage, could you go back and press \"No\" for fun?"
        );
        return;
      }

      // Later YES:
      const fireworksGifDirect = window.fireworksGifDirect || "";
      showModal("YAYYYY!!!", fireworksGifDirect);
    }
  });

  // init
  updateNoText();
  </script>
</body>
</html>
